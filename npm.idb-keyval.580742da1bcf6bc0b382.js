(this.webpackJsonp=this.webpackJsonp||[]).push([[8],{57:function(e,t,r){"use strict";r.r(t),r.d(t,"Store",(function(){return n})),r.d(t,"get",(function(){return u})),r.d(t,"set",(function(){return i})),r.d(t,"del",(function(){return c})),r.d(t,"clear",(function(){return a})),r.d(t,"keys",(function(){return h}));class n{constructor(e="keyval-store",t="keyval"){this.storeName=t,this._dbp=new Promise((r,n)=>{const o=indexedDB.open(e,1);o.onerror=()=>n(o.error),o.onsuccess=()=>r(o.result),o.onupgradeneeded=()=>{o.result.createObjectStore(t)}})}_withIDBStore(e,t){return this._dbp.then(r=>new Promise((n,o)=>{const s=r.transaction(this.storeName,e);s.oncomplete=()=>n(),s.onabort=s.onerror=()=>o(s.error),t(s.objectStore(this.storeName))}))}}let o;function s(){return o||(o=new n),o}function u(e,t=s()){let r;return t._withIDBStore("readonly",t=>{r=t.get(e)}).then(()=>r.result)}function i(e,t,r=s()){return r._withIDBStore("readwrite",r=>{r.put(t,e)})}function c(e,t=s()){return t._withIDBStore("readwrite",t=>{t.delete(e)})}function a(e=s()){return e._withIDBStore("readwrite",e=>{e.clear()})}function h(e=s()){const t=[];return e._withIDBStore("readonly",e=>{(e.openKeyCursor||e.openCursor).call(e).onsuccess=function(){this.result&&(t.push(this.result.key),this.result.continue())}}).then(()=>t)}}}]);
//# sourceMappingURL=npm.idb-keyval.580742da1bcf6bc0b382.js.map